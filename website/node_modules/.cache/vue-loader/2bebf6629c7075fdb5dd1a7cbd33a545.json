{"remainingRequest":"C:\\Users\\robi\\Desktop\\datamining_frequent_itemset\\website\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\robi\\Desktop\\datamining_frequent_itemset\\website\\src\\components\\diagrams\\ZoomableBarChart.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\robi\\Desktop\\datamining_frequent_itemset\\website\\src\\components\\diagrams\\ZoomableBarChart.vue","mtime":1587282998512},{"path":"C:\\Users\\robi\\Desktop\\datamining_frequent_itemset\\website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1587028715871},{"path":"C:\\Users\\robi\\Desktop\\datamining_frequent_itemset\\website\\node_modules\\babel-loader\\lib\\index.js","mtime":1587028715580},{"path":"C:\\Users\\robi\\Desktop\\datamining_frequent_itemset\\website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1587028715871},{"path":"C:\\Users\\robi\\Desktop\\datamining_frequent_itemset\\website\\node_modules\\vue-loader\\lib\\index.js","mtime":1587028725559}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KDQppbXBvcnQgKiBhcyBkMyBmcm9tICdkMycNCmltcG9ydCB7IHNjYWxlTGluZWFyLCBzY2FsZUJhbmQgfSBmcm9tICJkMy1zY2FsZSI7DQppbXBvcnQgeyBtYXgsIG1pbiB9IGZyb20gImQzLWFycmF5IjsNCmltcG9ydCB7IHNlbGVjdEFsbCB9IGZyb20gImQzLXNlbGVjdGlvbiI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICANCiAgICBtb3VudGVkKCl7DQogICAgICAgIHRoaXMuaW5pdCgpDQogICAgfSwNCiAgICBtZXRob2RzOnsNCiAgICAgICAgaW5pdCgpew0KICAgICAgICAgICAgdmFyIG1hcmdpbiA9IHt0b3A6IDIwLCByaWdodDogMjAsIGJvdHRvbTogOTAsIGxlZnQ6IDUwfSwNCiAgICAgICAgICAgIG1hcmdpbjIgPSB7dG9wOiAyMzAsIHJpZ2h0OiAyMCwgYm90dG9tOiAzMCwgbGVmdDogNTB9LA0KICAgICAgICAgICAgd2lkdGggPSA5NjAgLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodCwNCiAgICAgICAgICAgIGhlaWdodCA9IDMwMCAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tLA0KICAgICAgICAgICAgaGVpZ2h0MiA9IDMwMCAtIG1hcmdpbjIudG9wIC0gbWFyZ2luMi5ib3R0b207DQoNCiAgICAgICAgICAgIHZhciBwYXJzZVRpbWUgPSBkMy50aW1lUGFyc2UoIiVZLSVtLSVkIik7DQoNCiAgICAgICAgICAgIHZhciB4ID0gZDMuc2NhbGVUaW1lKCkucmFuZ2UoWzAsIHdpZHRoXSksDQogICAgICAgICAgICAgICAgeDIgPSBkMy5zY2FsZVRpbWUoKS5yYW5nZShbMCwgd2lkdGhdKSwNCiAgICAgICAgICAgICAgICB5ID0gZDMuc2NhbGVMaW5lYXIoKS5yYW5nZShbaGVpZ2h0LCAwXSksDQogICAgICAgICAgICAgICAgeTIgPSBkMy5zY2FsZUxpbmVhcigpLnJhbmdlKFtoZWlnaHQyLCAwXSk7DQoNCiAgICAgICAgICAgIHZhciB4QXhpcyA9IGQzLmF4aXNCb3R0b20oeCkudGlja1NpemUoMCksDQogICAgICAgICAgICAgICAgeEF4aXMyID0gZDMuYXhpc0JvdHRvbSh4MikudGlja1NpemUoMCksDQogICAgICAgICAgICAgICAgeUF4aXMgPSBkMy5heGlzTGVmdCh5KS50aWNrU2l6ZSgwKTsNCg0KICAgICAgICAgICAgdmFyIGJydXNoID0gZDMuYnJ1c2hYKCkNCiAgICAgICAgICAgICAgICAuZXh0ZW50KFtbMCwgMF0sIFt3aWR0aCwgaGVpZ2h0Ml1dKQ0KICAgICAgICAgICAgICAgIC5vbigiYnJ1c2giLCB0aGlzLmJydXNoZWQpOw0KDQogICAgICAgICAgICB2YXIgem9vbSA9IGQzLnpvb20oKQ0KICAgICAgICAgICAgICAgIC5zY2FsZUV4dGVudChbMSwgSW5maW5pdHldKQ0KICAgICAgICAgICAgICAgIC50cmFuc2xhdGVFeHRlbnQoW1swLCAwXSwgW3dpZHRoLCBoZWlnaHRdXSkNCiAgICAgICAgICAgICAgICAuZXh0ZW50KFtbMCwgMF0sIFt3aWR0aCwgaGVpZ2h0XV0pDQogICAgICAgICAgICAgICAgLm9uKCJ6b29tIix0aGlzLnpvb21lZCk7DQoNCiAgICAgICAgICAgIHZhciBzdmcgPSBkMy5zZWxlY3QoIi50ZXN0IikuYXBwZW5kKCJzdmciKQ0KICAgICAgICAgICAgICAgIC5hdHRyKCJ3aWR0aCIsIHdpZHRoICsgbWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQpDQogICAgICAgICAgICAgICAgLmF0dHIoImhlaWdodCIsIGhlaWdodCArIG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tKTsNCg0KICAgICAgICAgICAgc3ZnLmFwcGVuZCgiZGVmcyIpLmFwcGVuZCgiY2xpcFBhdGgiKQ0KICAgICAgICAgICAgICAgIC5hdHRyKCJpZCIsICJjbGlwIikNCiAgICAgICAgICAgIC5hcHBlbmQoInJlY3QiKQ0KICAgICAgICAgICAgICAgIC5hdHRyKCJ3aWR0aCIsIHdpZHRoKQ0KICAgICAgICAgICAgICAgIC5hdHRyKCJoZWlnaHQiLCBoZWlnaHQpOw0KDQogICAgICAgICAgICB2YXIgZm9jdXMgPSBzdmcuYXBwZW5kKCJnIikNCiAgICAgICAgICAgICAgICAuYXR0cigiY2xhc3MiLCAiZm9jdXMiKQ0KICAgICAgICAgICAgICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCAidHJhbnNsYXRlKCIgKyBtYXJnaW4ubGVmdCArICIsIiArIG1hcmdpbi50b3AgKyAiKSIpOw0KDQogICAgICAgICAgICB2YXIgY29udGV4dCA9IHN2Zy5hcHBlbmQoImciKQ0KICAgICAgICAgICAgICAgIC5hdHRyKCJjbGFzcyIsICJjb250ZXh0IikNCiAgICAgICAgICAgICAgICAuYXR0cigidHJhbnNmb3JtIiwgInRyYW5zbGF0ZSgiICsgbWFyZ2luMi5sZWZ0ICsgIiwiICsgbWFyZ2luMi50b3AgKyAiKSIpOw0KDQogICAgICAgICAgICAvLyBEYXRhIExvYWQgZnJvbSBDU1YNCiAgICAgICAgICAgIGQzLmNzdigibWVzc2FnZV9oaXN0b3J5LmNzdiIsIGZ1bmN0aW9uKGVycm9yLCBkYXRhKSB7DQogICAgICAgICAgICBpZihlcnJvcikgdGhyb3cgZXJyb3I7DQoNCiAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihkKSB7DQogICAgICAgICAgICAgICAgZC5zZW50X3RpbWUgPSBwYXJzZVRpbWUoZC5zZW50X3RpbWUpOw0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIHZhciB4TWluID0gZDMubWluKGRhdGEsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQuc2VudF90aW1lOyB9KTsNCiAgICAgICAgICAgIHZhciB5TWF4ID0gTWF0aC5tYXgoMjAsIGQzLm1heChkYXRhLCBmdW5jdGlvbihkKSB7IHJldHVybiBkLm1lc3NhZ2VzX3NlbnRfaW5fZGF5OyB9KSk7DQoNCiAgICAgICAgICAgIHguZG9tYWluKFt4TWluLCBuZXcgRGF0ZSgpXSk7DQogICAgICAgICAgICB5LmRvbWFpbihbMCwgeU1heF0pOw0KICAgICAgICAgICAgeDIuZG9tYWluKHguZG9tYWluKCkpOw0KICAgICAgICAgICAgeTIuZG9tYWluKHkuZG9tYWluKCkpOw0KDQogICAgICAgICAgICB2YXIgbnVtX21lc3NhZ2VzID0gZnVuY3Rpb24oZGF0YUFycmF5LCBkb21haW5SYW5nZSkgeyByZXR1cm4gZDMuc3VtKGRhdGFBcnJheSwgZnVuY3Rpb24oZCkgew0KICAgICAgICAgICAgICAgIHJldHVybiBkLnNlbnRfdGltZSA+PSBkb21haW5SYW5nZS5kb21haW4oKVswXSAmJiBkLnNlbnRfdGltZSA8PSBkb21haW5SYW5nZS5kb21haW4oKVsxXTsNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyBhcHBlbmQgc2NhdHRlciBwbG90IHRvIG1haW4gY2hhcnQgYXJlYQ0KICAgICAgICAgICAgdmFyIG1lc3NhZ2VzID0gZm9jdXMuYXBwZW5kKCJnIik7DQogICAgICAgICAgICAgICAgbWVzc2FnZXMuYXR0cigiY2xpcC1wYXRoIiwgInVybCgjY2xpcCkiKTsNCiAgICAgICAgICAgICAgICBtZXNzYWdlcy5zZWxlY3RBbGwoIm1lc3NhZ2UiKQ0KICAgICAgICAgICAgICAgICAgICAuZGF0YShkYXRhKQ0KICAgICAgICAgICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoImNpcmNsZSIpDQogICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdtZXNzYWdlJykNCiAgICAgICAgICAgICAgICAgICAgLmF0dHIoInIiLCA0KQ0KICAgICAgICAgICAgICAgICAgICAuc3R5bGUoIm9wYWNpdHkiLCAwLjQpDQogICAgICAgICAgICAgICAgICAgIC5hdHRyKCJjeCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHgoZC5zZW50X3RpbWUpOyB9KQ0KICAgICAgICAgICAgICAgICAgICAuYXR0cigiY3kiLCBmdW5jdGlvbihkKSB7IHJldHVybiB5KGQubWVzc2FnZXNfc2VudF9pbl9kYXkpOyB9KQ0KDQogICAgICAgICAgICBmb2N1cy5hcHBlbmQoImciKQ0KICAgICAgICAgICAgICAgICAgICAuYXR0cigiY2xhc3MiLCAiYXhpcyB4LWF4aXMiKQ0KICAgICAgICAgICAgICAgICAgICAuYXR0cigidHJhbnNmb3JtIiwgInRyYW5zbGF0ZSgwLCIgKyBoZWlnaHQgKyAiKSIpDQogICAgICAgICAgICAgICAgICAgIC5jYWxsKHhBeGlzKTsNCg0KICAgICAgICAgICAgZm9jdXMuYXBwZW5kKCJnIikNCiAgICAgICAgICAgICAgICAgICAgLmF0dHIoImNsYXNzIiwgImF4aXMgYXhpcy0teSIpDQogICAgICAgICAgICAgICAgICAgIC5jYWxsKHlBeGlzKTsNCg0KICAgICAgICAgICAgLy8gU3VtbWFyeSBTdGF0cw0KICAgICAgICAgICAgZm9jdXMuYXBwZW5kKCJ0ZXh0IikNCiAgICAgICAgICAgICAgICAgICAgLmF0dHIoInRyYW5zZm9ybSIsICJyb3RhdGUoLTkwKSIpDQogICAgICAgICAgICAgICAgICAgIC5hdHRyKCJ5IiwgMCAtIG1hcmdpbi5sZWZ0KQ0KICAgICAgICAgICAgICAgICAgICAuYXR0cigieCIsMCAtIChoZWlnaHQgLyAyKSkNCiAgICAgICAgICAgICAgICAgICAgLmF0dHIoImR5IiwgIjFlbSIpDQogICAgICAgICAgICAgICAgICAgIC5zdHlsZSgidGV4dC1hbmNob3IiLCAibWlkZGxlIikNCiAgICAgICAgICAgICAgICAgICAgLnRleHQoIk1lc3NhZ2VzIChpbiB0aGUgZGF5KSIpOw0KDQogICAgICAgICAgICBmb2N1cy5hcHBlbmQoInRleHQiKQ0KICAgICAgICAgICAgICAgICAgICAuYXR0cigieCIsIHdpZHRoIC0gbWFyZ2luLnJpZ2h0KQ0KICAgICAgICAgICAgICAgICAgICAuYXR0cigiZHkiLCAiMWVtIikNCiAgICAgICAgICAgICAgICAgICAgLmF0dHIoInRleHQtYW5jaG9yIiwgImVuZCIpDQogICAgICAgICAgICAgICAgICAgIC50ZXh0KCJNZXNzYWdlczogIiArIG51bV9tZXNzYWdlcyhkYXRhLCB4KSk7DQoNCiAgICAgICAgICAgIHN2Zy5hcHBlbmQoInRleHQiKQ0KICAgICAgICAgICAgICAgICAgICAuYXR0cigidHJhbnNmb3JtIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJ0cmFuc2xhdGUoIiArICgod2lkdGggKyBtYXJnaW4ucmlnaHQgKyBtYXJnaW4ubGVmdCkvMikgKyAiICwiICsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoaGVpZ2h0ICsgbWFyZ2luLnRvcCArIG1hcmdpbi5ib3R0b20pICsgIikiKQ0KICAgICAgICAgICAgICAgICAgICAuc3R5bGUoInRleHQtYW5jaG9yIiwgIm1pZGRsZSIpDQogICAgICAgICAgICAgICAgICAgIC50ZXh0KCJEYXRlIik7DQoNCiAgICAgICAgICAgIHN2Zy5hcHBlbmQoInJlY3QiKQ0KICAgICAgICAgICAgICAgIC5hdHRyKCJjbGFzcyIsICJ6b29tIikNCiAgICAgICAgICAgICAgICAuYXR0cigid2lkdGgiLCB3aWR0aCkNCiAgICAgICAgICAgICAgICAuYXR0cigiaGVpZ2h0IiwgaGVpZ2h0KQ0KICAgICAgICAgICAgICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCAidHJhbnNsYXRlKCIgKyBtYXJnaW4ubGVmdCArICIsIiArIG1hcmdpbi50b3AgKyAiKSIpDQogICAgICAgICAgICAgICAgLmNhbGwoem9vbSk7DQoNCiAgICAgICAgICAgIC8vIGFwcGVuZCBzY2F0dGVyIHBsb3QgdG8gYnJ1c2ggY2hhcnQgYXJlYQ0KICAgICAgICAgICAgdmFyIG1lc3NhZ2VzID0gY29udGV4dC5hcHBlbmQoImciKTsNCiAgICAgICAgICAgICAgICBtZXNzYWdlcy5hdHRyKCJjbGlwLXBhdGgiLCAidXJsKCNjbGlwKSIpOw0KICAgICAgICAgICAgICAgIG1lc3NhZ2VzLnNlbGVjdEFsbCgibWVzc2FnZSIpDQogICAgICAgICAgICAgICAgICAgIC5kYXRhKGRhdGEpDQogICAgICAgICAgICAgICAgICAgIC5lbnRlcigpLmFwcGVuZCgiY2lyY2xlIikNCiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ21lc3NhZ2VDb250ZXh0JykNCiAgICAgICAgICAgICAgICAgICAgLmF0dHIoInIiLDMpDQogICAgICAgICAgICAgICAgICAgIC5zdHlsZSgib3BhY2l0eSIsIC42KQ0KICAgICAgICAgICAgICAgICAgICAuYXR0cigiY3giLCBmdW5jdGlvbihkKSB7IHJldHVybiB4MihkLnNlbnRfdGltZSk7IH0pDQogICAgICAgICAgICAgICAgICAgIC5hdHRyKCJjeSIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHkyKGQubWVzc2FnZXNfc2VudF9pbl9kYXkpOyB9KQ0KDQogICAgICAgICAgICBjb250ZXh0LmFwcGVuZCgiZyIpDQogICAgICAgICAgICAgICAgICAgIC5hdHRyKCJjbGFzcyIsICJheGlzIHgtYXhpcyIpDQogICAgICAgICAgICAgICAgICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCAidHJhbnNsYXRlKDAsIiArIGhlaWdodDIgKyAiKSIpDQogICAgICAgICAgICAgICAgICAgIC5jYWxsKHhBeGlzMik7DQoNCiAgICAgICAgICAgIGNvbnRleHQuYXBwZW5kKCJnIikNCiAgICAgICAgICAgICAgICAgICAgLmF0dHIoImNsYXNzIiwgImJydXNoIikNCiAgICAgICAgICAgICAgICAgICAgLmNhbGwoYnJ1c2gpDQogICAgICAgICAgICAgICAgICAgIC5jYWxsKGJydXNoLm1vdmUsIHgucmFuZ2UoKSk7DQoNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgIH0sDQogICAgICAgIGJydXNoZWQoKXsNCiAgICAgICAgICAgIGlmIChkMy5ldmVudC5zb3VyY2VFdmVudCAmJiBkMy5ldmVudC5zb3VyY2VFdmVudC50eXBlID09PSAiem9vbSIpIHJldHVybjsgLy8gaWdub3JlIGJydXNoLWJ5LXpvb20NCiAgICAgICAgICAgIHZhciBzID0gZDMuZXZlbnQuc2VsZWN0aW9uIHx8IHgyLnJhbmdlKCk7DQogICAgICAgICAgICB4LmRvbWFpbihzLm1hcCh4Mi5pbnZlcnQsIHgyKSk7DQogICAgICAgICAgICBmb2N1cy5zZWxlY3RBbGwoIi5tZXNzYWdlIikNCiAgICAgICAgICAgICAgICAgICAgLmF0dHIoImN4IiwgZnVuY3Rpb24oZCkgeyByZXR1cm4geChkLnNlbnRfdGltZSk7IH0pDQogICAgICAgICAgICAgICAgICAgIC5hdHRyKCJjeSIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHkoZC5tZXNzYWdlc19zZW50X2luX2RheSk7IH0pOw0KICAgICAgICAgICAgZm9jdXMuc2VsZWN0KCIueC1heGlzIikuY2FsbCh4QXhpcyk7DQogICAgICAgICAgICBzdmcuc2VsZWN0KCIuem9vbSIpLmNhbGwoem9vbS50cmFuc2Zvcm0sIGQzLnpvb21JZGVudGl0eQ0KICAgICAgICAgICAgICAgIC5zY2FsZSh3aWR0aCAvIChzWzFdIC0gc1swXSkpDQogICAgICAgICAgICAgICAgLnRyYW5zbGF0ZSgtc1swXSwgMCkpOw0KICAgICAgICB9LA0KICAgICAgICB6b29tZWQoKXsNCiAgICAgICAgICAgIGlmIChkMy5ldmVudC5zb3VyY2VFdmVudCAmJiBkMy5ldmVudC5zb3VyY2VFdmVudC50eXBlID09PSAiYnJ1c2giKSByZXR1cm47IC8vIGlnbm9yZSB6b29tLWJ5LWJydXNoDQogICAgICAgICAgICB2YXIgdCA9IGQzLmV2ZW50LnRyYW5zZm9ybTsNCiAgICAgICAgICAgIHguZG9tYWluKHQucmVzY2FsZVgoeDIpLmRvbWFpbigpKTsNCiAgICAgICAgICAgIGZvY3VzLnNlbGVjdEFsbCgiLm1lc3NhZ2UiKQ0KICAgICAgICAgICAgICAgICAgICAuYXR0cigiY3giLCBmdW5jdGlvbihkKSB7IHJldHVybiB4KGQuc2VudF90aW1lKTsgfSkNCiAgICAgICAgICAgICAgICAgICAgLmF0dHIoImN5IiwgZnVuY3Rpb24oZCkgeyByZXR1cm4geShkLm1lc3NhZ2VzX3NlbnRfaW5fZGF5KTsgfSk7DQogICAgICAgICAgICBmb2N1cy5zZWxlY3QoIi54LWF4aXMiKS5jYWxsKHhBeGlzKTsNCiAgICAgICAgICAgIGNvbnRleHQuc2VsZWN0KCIuYnJ1c2giKS5jYWxsKGJydXNoLm1vdmUsIHgucmFuZ2UoKS5tYXAodC5pbnZlcnRYLCB0KSk7DQogICAgICAgIH0NCiAgICB9DQp9DQo="},{"version":3,"sources":["ZoomableBarChart.vue"],"names":[],"mappings":";;;;AAIA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ZoomableBarChart.vue","sourceRoot":"src/components/diagrams","sourcesContent":["<template>\r\n    <svg class=\"test\" :id=\"id\" ></svg>\r\n</template>\r\n<script>\r\nimport * as d3 from 'd3'\r\nimport { scaleLinear, scaleBand } from \"d3-scale\";\r\nimport { max, min } from \"d3-array\";\r\nimport { selectAll } from \"d3-selection\";\r\n\r\nexport default {\r\n    \r\n    mounted(){\r\n        this.init()\r\n    },\r\n    methods:{\r\n        init(){\r\n            var margin = {top: 20, right: 20, bottom: 90, left: 50},\r\n            margin2 = {top: 230, right: 20, bottom: 30, left: 50},\r\n            width = 960 - margin.left - margin.right,\r\n            height = 300 - margin.top - margin.bottom,\r\n            height2 = 300 - margin2.top - margin2.bottom;\r\n\r\n            var parseTime = d3.timeParse(\"%Y-%m-%d\");\r\n\r\n            var x = d3.scaleTime().range([0, width]),\r\n                x2 = d3.scaleTime().range([0, width]),\r\n                y = d3.scaleLinear().range([height, 0]),\r\n                y2 = d3.scaleLinear().range([height2, 0]);\r\n\r\n            var xAxis = d3.axisBottom(x).tickSize(0),\r\n                xAxis2 = d3.axisBottom(x2).tickSize(0),\r\n                yAxis = d3.axisLeft(y).tickSize(0);\r\n\r\n            var brush = d3.brushX()\r\n                .extent([[0, 0], [width, height2]])\r\n                .on(\"brush\", this.brushed);\r\n\r\n            var zoom = d3.zoom()\r\n                .scaleExtent([1, Infinity])\r\n                .translateExtent([[0, 0], [width, height]])\r\n                .extent([[0, 0], [width, height]])\r\n                .on(\"zoom\",this.zoomed);\r\n\r\n            var svg = d3.select(\".test\").append(\"svg\")\r\n                .attr(\"width\", width + margin.left + margin.right)\r\n                .attr(\"height\", height + margin.top + margin.bottom);\r\n\r\n            svg.append(\"defs\").append(\"clipPath\")\r\n                .attr(\"id\", \"clip\")\r\n            .append(\"rect\")\r\n                .attr(\"width\", width)\r\n                .attr(\"height\", height);\r\n\r\n            var focus = svg.append(\"g\")\r\n                .attr(\"class\", \"focus\")\r\n                .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\r\n\r\n            var context = svg.append(\"g\")\r\n                .attr(\"class\", \"context\")\r\n                .attr(\"transform\", \"translate(\" + margin2.left + \",\" + margin2.top + \")\");\r\n\r\n            // Data Load from CSV\r\n            d3.csv(\"message_history.csv\", function(error, data) {\r\n            if(error) throw error;\r\n\r\n            data.forEach(function(d) {\r\n                d.sent_time = parseTime(d.sent_time);\r\n            });\r\n\r\n            var xMin = d3.min(data, function(d) { return d.sent_time; });\r\n            var yMax = Math.max(20, d3.max(data, function(d) { return d.messages_sent_in_day; }));\r\n\r\n            x.domain([xMin, new Date()]);\r\n            y.domain([0, yMax]);\r\n            x2.domain(x.domain());\r\n            y2.domain(y.domain());\r\n\r\n            var num_messages = function(dataArray, domainRange) { return d3.sum(dataArray, function(d) {\r\n                return d.sent_time >= domainRange.domain()[0] && d.sent_time <= domainRange.domain()[1];\r\n                })\r\n            }\r\n\r\n            // append scatter plot to main chart area\r\n            var messages = focus.append(\"g\");\r\n                messages.attr(\"clip-path\", \"url(#clip)\");\r\n                messages.selectAll(\"message\")\r\n                    .data(data)\r\n                    .enter().append(\"circle\")\r\n                    .attr('class', 'message')\r\n                    .attr(\"r\", 4)\r\n                    .style(\"opacity\", 0.4)\r\n                    .attr(\"cx\", function(d) { return x(d.sent_time); })\r\n                    .attr(\"cy\", function(d) { return y(d.messages_sent_in_day); })\r\n\r\n            focus.append(\"g\")\r\n                    .attr(\"class\", \"axis x-axis\")\r\n                    .attr(\"transform\", \"translate(0,\" + height + \")\")\r\n                    .call(xAxis);\r\n\r\n            focus.append(\"g\")\r\n                    .attr(\"class\", \"axis axis--y\")\r\n                    .call(yAxis);\r\n\r\n            // Summary Stats\r\n            focus.append(\"text\")\r\n                    .attr(\"transform\", \"rotate(-90)\")\r\n                    .attr(\"y\", 0 - margin.left)\r\n                    .attr(\"x\",0 - (height / 2))\r\n                    .attr(\"dy\", \"1em\")\r\n                    .style(\"text-anchor\", \"middle\")\r\n                    .text(\"Messages (in the day)\");\r\n\r\n            focus.append(\"text\")\r\n                    .attr(\"x\", width - margin.right)\r\n                    .attr(\"dy\", \"1em\")\r\n                    .attr(\"text-anchor\", \"end\")\r\n                    .text(\"Messages: \" + num_messages(data, x));\r\n\r\n            svg.append(\"text\")\r\n                    .attr(\"transform\",\r\n                        \"translate(\" + ((width + margin.right + margin.left)/2) + \" ,\" +\r\n                                        (height + margin.top + margin.bottom) + \")\")\r\n                    .style(\"text-anchor\", \"middle\")\r\n                    .text(\"Date\");\r\n\r\n            svg.append(\"rect\")\r\n                .attr(\"class\", \"zoom\")\r\n                .attr(\"width\", width)\r\n                .attr(\"height\", height)\r\n                .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\r\n                .call(zoom);\r\n\r\n            // append scatter plot to brush chart area\r\n            var messages = context.append(\"g\");\r\n                messages.attr(\"clip-path\", \"url(#clip)\");\r\n                messages.selectAll(\"message\")\r\n                    .data(data)\r\n                    .enter().append(\"circle\")\r\n                    .attr('class', 'messageContext')\r\n                    .attr(\"r\",3)\r\n                    .style(\"opacity\", .6)\r\n                    .attr(\"cx\", function(d) { return x2(d.sent_time); })\r\n                    .attr(\"cy\", function(d) { return y2(d.messages_sent_in_day); })\r\n\r\n            context.append(\"g\")\r\n                    .attr(\"class\", \"axis x-axis\")\r\n                    .attr(\"transform\", \"translate(0,\" + height2 + \")\")\r\n                    .call(xAxis2);\r\n\r\n            context.append(\"g\")\r\n                    .attr(\"class\", \"brush\")\r\n                    .call(brush)\r\n                    .call(brush.move, x.range());\r\n\r\n            });\r\n\r\n        },\r\n        brushed(){\r\n            if (d3.event.sourceEvent && d3.event.sourceEvent.type === \"zoom\") return; // ignore brush-by-zoom\r\n            var s = d3.event.selection || x2.range();\r\n            x.domain(s.map(x2.invert, x2));\r\n            focus.selectAll(\".message\")\r\n                    .attr(\"cx\", function(d) { return x(d.sent_time); })\r\n                    .attr(\"cy\", function(d) { return y(d.messages_sent_in_day); });\r\n            focus.select(\".x-axis\").call(xAxis);\r\n            svg.select(\".zoom\").call(zoom.transform, d3.zoomIdentity\r\n                .scale(width / (s[1] - s[0]))\r\n                .translate(-s[0], 0));\r\n        },\r\n        zoomed(){\r\n            if (d3.event.sourceEvent && d3.event.sourceEvent.type === \"brush\") return; // ignore zoom-by-brush\r\n            var t = d3.event.transform;\r\n            x.domain(t.rescaleX(x2).domain());\r\n            focus.selectAll(\".message\")\r\n                    .attr(\"cx\", function(d) { return x(d.sent_time); })\r\n                    .attr(\"cy\", function(d) { return y(d.messages_sent_in_day); });\r\n            focus.select(\".x-axis\").call(xAxis);\r\n            context.select(\".brush\").call(brush.move, x.range().map(t.invertX, t));\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n\r\n</style>"]}]}